<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>
    
    <style type="text/css"> 
    body {
    text-align: center;
    }
    #container {
    margin-left: auto;
    margin-right: auto;
    border: 1px solid red;
    width: 168px;
    text-align: left
    }
    </style>
       
    
  </head>

  <body>
		
        <div id="step1">
        <div id="content" style="color:Red"></div>
        <div style="display:none" id="content_hide">萌萌的生气笔记</div>
        <div><a id="openBtn" href="javascript:void()"  style="display:none;text-align:center">Open</a></div>
        </div>
        

        <div id="step2" style="display:none;">
        <ul id="list">
        </ul>
        </div>
        
        
        <div id="step3" style="display:none;">
        <div id="post"></div>
        <div id="image"></div>
        <div><a id="returnList" href="javascript:void()" style="text-align:center">Return</a></div>
        </div>
        
   
        
       <script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
       <script type="text/javascript">
			

          var app=app||{};

		


		app.Init=function(){

			  $("#openBtn").bind("click", function() {
                  $("#step1").fadeOut("fast");
                  initList();
                  $("#step2").fadeIn("slow");
              });

              $("#returnList").bind("click", function() {
                  $("#step3").fadeOut("fast");
                  $("#step2").fadeIn("slow");
              });

			  var initList = function() {

                  $.ajax({
                      url: "list.json",
                      dataType: "json",
                      success: function(data) {
                          $.each(data, function(key, val) {
                              $("#list").append("<li><a id=a" + key + " href='javascript:void()'>" + val.date + "</a></li>");
                              $("#a" + key + "").bind("click", function() {
                                  $("#step2").fadeOut("fast");
                                  $("#step3").fadeIn("slow");
                                  $("#post").html(val.content);
                                  $("#image").html("<img src="+val.image+">");

                              })
                          });
                      }
                  });
              };
		};



		(function(){

			  var index = 0;
              var word = $("#content_hide").html();
              var type = function() {
                  $("#content").html(word.substring(0, index++));
                  if (index == word.length + 1) {
                      clearInterval(num);
                      $("#openBtn").fadeIn("slow");
                  }
              }
              var num = setInterval(type, 300);

			 app.Init();
		  })();

		  
       </script>
          
          
     

  </body>
</html>





